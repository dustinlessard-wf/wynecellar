define(["jquery","underscore","backbone","stackmobinit","views/WinesView","text!templates/filterTemplate.html"],function(e,t,n,r,i,s){var o=n.View.extend({events:{"change .type":"filter","change .size":"filter"},initialize:function(){this.collection=this.options.collection,this.template=t.template(s)},render:function(){return this.$el.empty(),this.$el.append(this.template()),winesView=new i({collection:this.collection}),this.$el.append(winesView.render().el),this},filter:function(t){var n=this.collection;t.preventDefault();var i=e("#filterForm select.type").val(),s=e("#filterForm select.size").val(),o=new r.Collection.Query;i!==""&&o.equals("type",i),s!==""&&o.equals("size",s),n.query(o,{success:function(e){console.log(e.toJSON())}})}});return o});