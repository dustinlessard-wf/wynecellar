define(["jquery","text!templates/home/homeTemplate.html","views/wine/ListView","views/home/LogoutButtonView","views/home/LoginButtonView","libs/app/util","stackmobinit"],function(e,t,n,r,i,s,o){var u=Backbone.View.extend({className:"wine",events:{"click .logout":"logout"},initialize:function(e){this.collection=this.options.collection},render:function(){var s=this.$el,u=this.collection;s.append(t),s.attr("id","wineView");var a=o.isLoggedIn();if(a){e(".login").remove();var f=s.find(":jqmData(role='header')"),l=new r;f.append(l.render().el)}else{var f=s.find(":jqmData(role='header')"),c=new i;f.append(c.render().el)}var f=s.find(":jqmData(role='content')");f.empty();var h=new n({collection:u});return f.append(h.render().el),this},logout:function(e){return s(this.$el).setLoginLogoutButton(this.$el,"wine"),this}});return u});