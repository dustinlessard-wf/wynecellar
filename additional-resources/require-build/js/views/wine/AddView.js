define(["jquery","underscore","backbone","stackmob","models/wine/WineModel","text!templates/wine/addTemplate.html","router","libs/app/util"],function(e,t,n,r,i,s,o,u){var a=n.View.extend({events:{"click #saveBtn":"save"},initialize:function(){this.template=t.template(s),this.collection=this.options.collection,this.router=this.options.router},render:function(){return this.$el.empty(),this.$el.append(this.template({winery:""})),this},save:function(t){var n=this.collection,r=this.router;t.preventDefault();var s=new i({winery:e("#winery").val()});return s.create({success:function(e){n.add(e),r.navigate("#",{trigger:!0,replace:!1})}}),e("#winery").val(""),this}});return a});