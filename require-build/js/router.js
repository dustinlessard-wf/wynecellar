define(["jquery","stackmobinit","libs/app/util","views/wine/HomeView","views/wine/AddView","views/wine/UpdateView","collections/wine/WineCollection"],function(e,t,n,r,i,s,o){var u=Backbone.Router.extend({routes:{"":"home",add:"add","update/:id":"update"},initialize:function(e){this.collection=e.collection},home:function(){this.changePage(new r({collection:this.collection}))},add:function(){this.changePage(new i({collection:this.collection,router:this}))},update:function(e){this.model=this.collection.get(e),this.changePage(new s({model:this.model,router:this}))},changePage:function(t){e("body").empty(),e("body").append(e(t.render().el))}}),a=function(){var e=new o;e.fetch({async:!0}),wineApp=new u({collection:e}),Backbone.history.start()};return{initialize:a}});